
Задание 4
![[Pasted image 20241216014259.png]]

Выполнено

```C
#include <stdio.h>
#include <math.h>

double f(double a, int n) {
    double sum1 = 0.0;
    double sum2 = 0.0;
    for (int i = 1; i <= n; i++) {
        sum1 += pow(a, i) / i; // Сумма для 1
        sum2 += pow(a, i) / (pow(i, 2)); // Сумма для 2
    }
    return (fabs(sum1) <= 1) ? sum1 : sum2;
}
int main() {
    printf("========================================\n");
    printf("|   a   |   5   |   6   |   7   |   8   |\n");
    printf("========================================\n");
    for (double a = -1; a <= 2; a += 1.0) {
        printf("| %.1f  |", a);
        for (int n = 5; n <= 8; n++) {
            printf(" %5.3f |", f(a, n));
        }
        printf("\n");
    }
    printf("========================================\n");
    return 0;
}
```

### Объяснение:

- **Функция `f`** рассчитывает значения, используя две суммы и исходя из условия ∣sum1∣≤1∣sum1∣≤1.
- **Цикл в `main`**: перебирает значения aa и nn, выводя их в формате таблицы.
- Используется `printf` для форматированного вывода значений.

Разбор кода.
### Определение функции



```
double f(double a, int n) {
```

- Эта строка объявляет функцию `f`, которая принимает два параметра: `a` (число с плавающей запятой) и `n` (целое число). Функция возвращает значение типа `double`.

### Объявление переменных для сумм



```
    double sum1 = 0.0;
    double sum2 = 0.0;
```

- `sum1` и `sum2` инициализируются как 0.0. Эти переменные будут использоваться для хранения сумм.

### Цикл для вычисления сумм


```
    for (int i = 1; i <= n; i++) {
```

- Начинает цикл от `i = 1` до `n`. Внутри этого цикла будут рассчитываться значения для `sum1` и `sum2`.

#### Сумма 1


```
        sum1 += pow(a, i) / i; // Сумма для 1
```

- Здесь `pow(a, i)` вычисляет `a` в степени `i`. Результат делится на `i`, и значение добавляется к `sum1`. Это создает ряд, похожий на ряд маклорена для функции `ln(1+a)`.

#### Сумма 2



```
        sum2 += pow(a, i) / (pow(i, 2)); // Сумма для 2
```

- В этом выражении `pow(i, 2)` вычисляет квадрат `i`. Сумма 2 складывает термины, которые имеют меньшую скорость сходимости для больших `i`, но учитывают больше дробных значений.

### Возвращение результата



```
    return (fabs(sum1) <= 1) ? sum1 : sum2;
}
```

- Используется тернарный оператор. Если абсолютное значение `sum1` меньше или равно 1, возвращается `sum1`, в противном случае возвращается `sum2`. Это уточняет, какая из сумм будет возвращена в зависимости от их величины.

### Главная функция



```
int main() {
```

- Начало главной функции программы, с которой начинается выполнение.

#### Вывод заголовков таблицы



```
    printf("========================================\n");
    printf("|   a   |   5   |   6   |   7   |   8   |\n");
    printf("========================================\n");
```

- Эти строки выводят заголовок таблицы, где первое поле будет значением `a`, а остальные поля будут результатами для значений `n` от 5 до 8.

### Цикл для значений `a`



```
    for (double a = -1; a <= 2; a += 1.0) {
```

- Цикл, который проходит по значениям `a` от -1 до 2 с шагом 1.0.

#### Вывод значений для каждого `n`



```
        printf("| %.1f  |", a);
        for (int n = 5; n <= 8; n++) {
            printf(" %5.3f |", f(a, n));
        }
```

- Выводится текущее значение `a`. Далее начинается вложенный цикл по `n` от 5 до 8, где для каждого `n` вызывается функция `f(a, n)`, и результат форматируется и выводится в таблицу.

### Завершение вывода таблицы



```
    printf("\n");
    }
    printf("========================================\n");
```

- Первый `printf("\n");` завершает строку текущего значения `a`. Последний `printf` выводит нижнюю границу таблицы.

### Завершение программы


```
    return 0;
}
```

- Возвращает 0, указывая на успешное завершение программы.